(this["webpackJsonpfarmdb-test"]=this["webpackJsonpfarmdb-test"]||[]).push([[0],{110:function(e,t,n){e.exports={box:"TemplateFieldBox_box__J2Qkg",leftSide:"TemplateFieldBox_leftSide__3m42l",description:"TemplateFieldBox_description__1xdap",libName:"TemplateFieldBox_libName__1z6TS"}},135:function(e,t,n){e.exports={ul:"TemplateFields_ul__2K5_A",addButton:"TemplateFields_addButton__1u_7n"}},173:function(e,t,n){e.exports={list:"CImage_list__2otOE"}},179:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useScriptField}));var _home_runner_work_farmdb_test_farmdb_test_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_store_editedEntry_slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_store_librariesData_slice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32),_store_templateLibraries_slice__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(34),useField=function(e){var t,n=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.c)((function(t){return Object(_store_editedEntry_slice__WEBPACK_IMPORTED_MODULE_2__.f)(t,e)}));if("libEntry"!==(null===n||void 0===n?void 0:n.type))return null===n||void 0===n||null===(t=n.field)||void 0===t?void 0:t.value},useLinkToEntryField=function(e){var t,n,a,i,l,r,o,c,d,u,s,b=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.c)((function(t){return Object(_store_editedEntry_slice__WEBPACK_IMPORTED_MODULE_2__.f)(t,e)}));(null===b||void 0===b||null===(t=b.field)||void 0===t?void 0:t.entryLinks)&&(null===b||void 0===b||null===(n=b.field)||void 0===n||null===(a=n.entryLinks)||void 0===a?void 0:a.length)>0&&(d=null===b||void 0===b||null===(u=b.field)||void 0===u||null===(s=u.entryLinks[0])||void 0===s?void 0:s.libUUID);var j=[];null===b||void 0===b||null===(i=b.field)||void 0===i||null===(l=i.entryLinks)||void 0===l||l.forEach((function(e){j.push(e.rowUUID)}));var m=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.c)((function(e){return Object(_store_templateLibraries_slice__WEBPACK_IMPORTED_MODULE_4__.f)(e,d)})),f=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.c)((function(e){return Object(_store_librariesData_slice__WEBPACK_IMPORTED_MODULE_3__.h)(e,{libUUID:d,listRowsUUID:j})})),v=useScriptField(null===b||void 0===b||null===(r=b.columnTemplate)||void 0===r||null===(o=r.options[0])||void 0===o?void 0:o.script,null===b||void 0===b?void 0:b.type).value;if("script"===(null===b||void 0===b?void 0:b.type))return v;if("libEntry"!==(null===b||void 0===b?void 0:b.type))return null===b||void 0===b||null===(c=b.field)||void 0===c?void 0:c.value;function p(e){var t;return this[null===(t=m.columns.find((function(t){return t.name.toLowerCase()===e.toLowerCase()})))||void 0===t?void 0:t.sqlFieldName]}return(null===f||void 0===f?void 0:f.map((function(e){var t=Object(_home_runner_work_farmdb_test_farmdb_test_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e);return t.fieldLink=p,t})))||[]},useScriptField=function useScriptField(script,fieldType){var scriptValue,ScriptResult={status:"InProgress",value:null,error:null};if("script"!==fieldType)return ScriptResult;var useLinkToEntryField_t=function(e){return useLinkToEntryField(e)},scriptJSON=script,scriptObject=JSON.parse(scriptJSON),scriptCode=scriptObject.expr;scriptCode=scriptCode.replaceAll("].field(","]?.fieldLink("),scriptCode=scriptCode.replaceAll("field("," useLinkToEntryField_t("),scriptCode=scriptCode.replaceAll("srd("," return("),scriptCode=scriptCode.replaceAll("src"," ");var code=[];if(!scriptCode.includes("return")){var lastLine=!0;scriptCode.split("\n").reverse().forEach((function(e){e.trim().length>3&&(lastLine?code.push(" return ".concat(e)):code.push(e),lastLine=!1)})),scriptCode=code.reverse().join("\n")}console.log("before eval",scriptCode);var evalCode="\nconst functionScript = () => {\n  ".concat(scriptCode,"\n  return 'Ups no return'\n};\n// console.log(functionScript());\nscriptValue = functionScript();\n\n");try{eval(evalCode),ScriptResult.value=scriptValue,ScriptResult.status="success"}catch(e){ScriptResult.error=e,ScriptResult.status="error",e instanceof SyntaxError&&console.error(e.message)}return ScriptResult},_unused_webpack_default_export=useField},183:function(e,t,n){e.exports={list:"LibrariesList_list__d57me",item:"LibrariesList_item__e7j7n"}},185:function(e,t,n){e.exports={main:"LinkToLibraryField_main__2O8Lh"}},186:function(e,t,n){e.exports={goBack:"GoBack_goBack__gYX2-"}},221:function(e,t,n){},222:function(e,t,n){},231:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),l=n(65),r=n.n(l),o=(n(221),n(22)),c=(n(222),n(42)),d=n(288),u=n(290),s=n(329),b=n(0),j=function(e){var t=e.entry,n=e.mode,a=e.libUUID,i=Object(b.jsx)(d.a,{"data-testid":"linkToEntry-"+t.fe_title.replaceAll(" ","_").toLowerCase(),children:Object(b.jsx)(u.a,{primary:t.fe_title,secondary:t.fe_description})});return"linking"===n?Object(b.jsx)(s.a,{children:i}):Object(b.jsx)(c.b,{to:{pathname:"/library/entry",state:{libUUID:a,rowUUID:null===t||void 0===t?void 0:t.rowUUID,mode:"view"}},children:i})},m=n(17),f=n(34),v=n(25),p=n(330),O=n(331),h=n(332),x=n(112),U=n(120),y=n.n(U),_=n(171),g=n.n(_),D=n(23),I=function(e){var t=Object(D.g)();return Object(b.jsx)(s.a,{sx:{flexGrow:1},children:Object(b.jsx)(p.a,{position:"static",children:Object(b.jsxs)(O.a,{children:["empty"!==e.mode&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h.a,{size:"large",edge:"start",color:"inherit","aria-label":"go-back","data-testid":"go-back",sx:{mr:2},onClick:function(){t.goBack()},children:Object(b.jsx)(y.a,{})}),Object(b.jsx)(x.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:e.title}),Object(b.jsx)(h.a,{size:"large",edge:"end",color:"inherit","aria-label":"home","data-testid":"home",sx:{mr:2},onClick:function(){t.push("/")},children:Object(b.jsx)(g.a,{})})]}),e.children]})})})},w=function(e){var t=e.library,n=(e.mode,t.name);return Object(b.jsx)(I,{title:n})},k=n(32),C=n(318),N=n(333),T=n(334),L=n(293),S=function(e){var t,n=e.libUUID,a=e.mode,i=e.parentColumnUUID,l=e.clickEntryLinkHandler,r=Object(D.h)();"linking"!==a&&(n=null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.libUUID);var c=Object(m.b)(),s=Object(m.c)((function(e){return Object(k.f)(e,n)})),p={name:null===s||void 0===s?void 0:s.name},O=Object(m.c)((function(e){return Object(f.f)(e,n)})),U=function(e){if("linking"===a){var t,r=null===(t=O.columns.find((function(e){return e.columnUUID===i})))||void 0===t?void 0:t.sqlFieldName,d=Object(o.a)(Object(o.a)({},e),{},{parentColumnUUID:i,newUUID:Object(C.a)(),libUUID:n,sqlTableName:O.sqlTableName,columnParentName:r});c(Object(v.a)(d)),l()}},_=function(e){var t=e.entry,n=e.children,a=e.clickHandler;return Object(b.jsx)("div",{onClick:function(){return a(t)},children:n})};return Object(b.jsxs)(b.Fragment,{children:["linking"!==a&&Object(b.jsx)(w,{library:p,mode:a}),"linking"===a&&Object(b.jsxs)(I,{mode:"empty",children:[Object(b.jsx)(h.a,{size:"large",edge:"start",color:"inherit","aria-label":"goBack",sx:{mr:2},onClick:l,children:Object(b.jsx)(y.a,{})}),Object(b.jsx)(x.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:p.name})]}),Object(b.jsxs)(N.a,{sx:{width:"100%",bgcolor:"primary"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(b.jsx)(T.a,{component:"div",id:"nested-list-subheader",sx:{backgroundColor:"primary.light"},"data-testid":"entriesList",children:"Entries List Items:"}),children:[!(null===s||void 0===s?void 0:s.rows.length)>0&&Object(b.jsx)(d.a,{children:Object(b.jsx)(u.a,{primary:"No entry yet"})}),null===s||void 0===s?void 0:s.rows.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_,{entry:e,clickHandler:U,children:Object(b.jsx)(j,{entry:e,libUUID:s.libUUID,mode:a})},e.rowUUID),Object(b.jsx)(L.a,{})]})}))]})]})},E=n(10),F=n(321),A=function(e){var t=e.field,n=e.mode,a=Object(m.b)(),i="view"!==n;return Object(b.jsx)(F.a,{id:t.columnName.replaceAll(" ","_"),"data-testid":t.columnName.replaceAll(" ","_").toLowerCase(),name:t.columnName,label:Object(b.jsx)(x.a,{variant:"headline",component:"h2",color:"black",children:t.columnName}),focused:!0,disabled:!i,type:"number",defaultValue:null===t||void 0===t?void 0:t.value,onBlur:function(e){var n={columnUUID:t.columnUUID,type:e.target.type,checked:e.target.checked,value:e.target.value};a(Object(v.h)(n))},sx:{backgroundColor:i?"primary.lighter":"default",mx:2}})},B=function(e){var t=e.field,n=e.mode;return Object(b.jsx)(A,{field:t,mode:n})},P=function(e){var t=e.field,n=e.mode,a=Object(m.b)(),i="view"!==n;return Object(b.jsx)(F.a,{id:t.columnName.replaceAll(" ","_"),"data-testid":t.columnName.replaceAll(" ","_").toLowerCase(),name:t.columnName,label:Object(b.jsx)(x.a,{variant:"headline",component:"h2",color:"black",children:t.columnName}),multiline:!0,focused:!0,maxRows:14,disabled:!i,defaultValue:null===t||void 0===t?void 0:t.value,onBlur:function(e){var n={columnUUID:t.columnUUID,type:e.target.type,checked:e.target.checked,value:e.target.value};a(Object(v.h)(n))},sx:{backgroundColor:i?"primary.lighter":"default",width:"95%",mx:2}})},M=n(18),q=n(152),R=(n(229),n(173)),V=n.n(R),J=function(e){var t=e.field,n=e.mode,i=Object(a.useState)(!1),l=Object(E.a)(i,2),r=l[0],o=l[1],c=Object(a.useState)(String(t.value).split("\n")),d=Object(E.a)(c,2),u=d[0],s=d[1];return"edit"===n?Object(b.jsxs)("ul",{className:V.a.list,children:[u.map((function(e,t){return e.length>5&&Object(b.jsxs)("li",{children:[Object(b.jsx)("img",{src:e,alt:"Wrong path",width:325}),Object(b.jsx)("button",{onClick:function(){return function(e){var t=Object(M.a)(u);t.splice(e,1),s(t)}(t)},children:"X"})]},t)})),r&&Object(b.jsx)("li",{children:Object(b.jsx)(q.Camera,{isImageMirror:!1,idealFacingMode:q.FACING_MODES.ENVIRONMENT,onTakePhoto:function(e){!function(e){console.log("takePhoto",e),s([].concat(Object(M.a)(u),[e])),o(!1)}(e)}})},9998),!r&&Object(b.jsxs)("li",{children:[Object(b.jsx)("button",{onClick:function(){o(!0)},children:"Camera"}),Object(b.jsx)("button",{children:"Store"})]},9999)]}):(null===t||void 0===t?void 0:t.value)?Object(b.jsx)(a.Fragment,{children:"view"===n&&u.map((function(e,t){return Object(b.jsx)("img",{src:e,alt:"Wrong path",width:325},t)}))}):Object(b.jsx)("div",{})},H=function(e){var t=e.field,n=e.mode,a=Object(m.b)();if(!(null===t||void 0===t?void 0:t.value))return Object(b.jsx)("div",{});var i=new Date(null===t||void 0===t?void 0:t.value).toISOString().replace("T"," ").split(" ")[0];return"view"===n?Object(b.jsx)("div",{children:i}):Object(b.jsx)("input",{type:"date",id:t.columnUUID,name:t.columnName,onBlur:function(e){var n={columnUUID:t.columnUUID,type:e.target.type,checked:e.target.checked,value:e.target.value};a(Object(v.h)(n))},defaultValue:i})},W=n(311),G=n(299),K=n(310);var z,$,Q,Y,Z,X,ee,te=function(e){var t=e.field,n=e.mode,i=Object(a.useState)(function(e){return!!function(e){return!!e&&""!==e&&!1!==e&&null!==e&&void 0!==e&&"null"!==e&&""!==(e+=" ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e)}(null===t||void 0===t?void 0:t.value)?new Date(JSON.parse(null===t||void 0===t?void 0:t.value)):null),l=Object(E.a)(i,2),r=l[0],c=l[1],d=Object(m.b)();Object(a.useEffect)((function(){!function(){var e={columnUUID:t.columnUUID,type:"dateTime",checked:"",value:JSON.stringify(r)};d(Object(v.h)(e))}()}),[r]);var u="view"!==n;return Object(b.jsx)(s.a,{sx:{mx:2},"data-testid":t.columnName.replaceAll(" ","_").toLowerCase(),children:Object(b.jsx)(G.b,{dateAdapter:W.a,children:Object(b.jsx)(K.a,{renderInput:function(e){return Object(b.jsx)(F.a,Object(o.a)({},e))},value:r,label:Object(b.jsx)(x.a,{variant:"headline",component:"h2",color:"black",children:t.columnName}),disabled:!u,onChange:function(e){return c(e)}})})})},ne=function(e){var t=e.value;return Object(b.jsx)("div",{children:t})},ae=function(e){var t=e.field;if(!(null===t||void 0===t?void 0:t.value))return Object(b.jsx)("div",{});var n=String(t.value).split("\n");return Object(b.jsx)(a.Fragment,{children:n.map((function(e,t){return Object(b.jsx)("audio",{controls:!0,children:Object(b.jsx)("source",{src:e,type:"audio/ogg"})},t)}))})},ie=n(340),le=n(315),re=function(e){var t=e.field,n=e.mode,a=Object(m.b)(),i="view"===n,l="1"===(null===t||void 0===t?void 0:t.value);return Object(b.jsx)(ie.a,{value:"start",control:Object(b.jsx)(le.a,{id:t.columnUUID,"data-testid":t.columnName.replaceAll(" ","_").toLowerCase(),name:t.columnName,checked:l,onChange:function(e){var n={columnUUID:t.columnUUID,type:e.target.type,checked:e.target.checked,value:e.target.value};a(Object(v.h)(n))},disabled:i,sx:{backgroundColor:i?"default":"primary.lighter"},inputProps:{"aria-label":"controlled"}}),label:Object(b.jsx)(x.a,{variant:"headline",component:"h3",color:"black",children:t.columnName}),labelPlacement:"top"})},oe=n(317),ce=n(341),de=function(e){var t=e.field,n=e.mode,a=e.options,i=Object(m.b)(),l=[].concat(Object(M.a)(a),[{value:"",index:(null===a||void 0===a?void 0:a.length)+1||1}]),r="view"===n;return Object(b.jsx)(ie.a,{value:"start",control:Object(b.jsx)(oe.a,{id:t.columnUUID,"data-testid":t.columnName.replaceAll(" ","_").toLowerCase(),name:t.columnName,disabled:r,value:(null===t||void 0===t?void 0:t.value)||"",sx:{backgroundColor:r?"default":"primary.lighter"},onChange:function(e){var n={columnUUID:t.columnUUID,type:e.target.type,checked:e.target.checked,value:e.target.value};i(Object(v.h)(n))},label:"aga",children:null===l||void 0===l?void 0:l.map((function(e){return Object(b.jsx)(ce.a,{value:e.value,"data-testid":e.value.replaceAll(" ","_").toLowerCase(),children:e.value},e.index)}))}),label:Object(b.jsx)(x.a,{variant:"headline",component:"h3",color:"black",children:t.columnName}),labelPlacement:"top"})},ue={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,maxHeight:700,bgcolor:"primary.lighter",border:"2px solid #000",boxShadow:24,overflow:"auto"},se=function(e){var t=e.toggleShowModal,n=e.libUUID,a=e.columnUUID;return Object(b.jsx)(s.a,{sx:ue,children:Object(b.jsx)(S,{libUUID:n,mode:"linking",parentColumnUUID:a,clickEntryLinkHandler:t})})},be=n(342),je=n(323),me=n(303),fe=n(240),ve=n(301),pe=n(302),Oe=n(127),he=n.n(Oe),xe=n(126),Ue=n.n(xe),ye=function(e){var t,n,i,l,r=e.field,o=e.mode,j=e.columnTemplate,f=Object(m.b)(),p=Object(a.useState)(!1),O=Object(E.a)(p,2),x=O[0],U=O[1],y=Object(a.useState)(!0),_=Object(E.a)(y,2),g=_[0],D=_[1],I=function(){U(!x)};Object(a.useEffect)((function(){document.body.style.overflow=x?"hidden":"unset"}),[x]),l=null===j||void 0===j||null===(t=j.options[0])||void 0===t?void 0:t.dictionaryLibraryUUID;var w=null===j||void 0===j||null===(n=j.options[0])||void 0===n?void 0:n.dictionaryLibraryName,k="edit"===o||"addNewEntry"===o;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(d.a,{onClick:function(){D(!g)},children:[Object(b.jsx)(u.a,{primary:w,secondary:"Link to entry"}),g?Object(b.jsx)(ve.a,{}):Object(b.jsx)(pe.a,{})]}),Object(b.jsx)(L.a,{}),Object(b.jsx)(be.a,{in:g,timeout:"auto",unmountOnExit:!0,children:Object(b.jsxs)(N.a,{component:"div",disablePadding:!0,children:[null===(i=r.entryLinks)||void 0===i?void 0:i.map((function(e,t){return Object(b.jsxs)(s.a,{children:[Object(b.jsx)(c.b,{to:{pathname:"/library/entry",state:{libUUID:null===e||void 0===e?void 0:e.libUUID,rowUUID:null===e||void 0===e?void 0:e.rowUUID,mode:"view"}},children:Object(b.jsx)(je.a,{sx:{pl:6},secondaryAction:k&&Object(b.jsx)(h.a,{edge:"end","aria-label":"delete","data-testid":"deleteLinkToEntry-"+(null===e||void 0===e?void 0:e.rowTitle.replaceAll(" ","_").toLowerCase()),onClick:function(e){return n=t,e.preventDefault(),void f(Object(v.d)({columnUUID:null===r||void 0===r?void 0:r.columnUUID,entryIndex:n}));var n},children:Object(b.jsx)(Ue.a,{})}),children:Object(b.jsx)(u.a,{primary:null===e||void 0===e?void 0:e.rowTitle,"data-testid":"linkToEntry-"+(null===e||void 0===e?void 0:e.rowTitle.replaceAll(" ","_").toLowerCase())})})}),Object(b.jsx)(L.a,{variant:"inset",component:"li"})]},t)})),k&&Object(b.jsxs)(d.a,{sx:{pl:6},onClick:I,"data-testid":r.columnName.replaceAll(" ","_").toLowerCase(),children:[Object(b.jsx)(me.a,{children:Object(b.jsx)(he.a,{})}),Object(b.jsx)(u.a,{primary:"Add from list"})]})]})}),Object(b.jsx)(fe.a,{open:x,onClose:function(){return U(x)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(b.jsx)(s.a,{children:Object(b.jsx)(se,{toggleShowModal:I,libUUID:l,columnUUID:null===r||void 0===r?void 0:r.columnUUID})})})]})},_e=n(176),ge=n.n(_e),De=n(300),Ie=n(304),we=n(338),ke=n(343),Ce=n(339),Ne=n(327),Te=function(e){var t=e.isAlertOpen,n=e.disagreeHandler,a=e.agreeHandler,i=e.title,l=e.contentText;return Object(b.jsxs)(De.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(b.jsx)(Ie.a,{id:"alert-dialog-title","data-testid":"dialogQuestionTitle",children:i}),Object(b.jsx)(we.a,{children:Object(b.jsx)(ke.a,{id:"alert-dialog-description",children:l})}),Object(b.jsxs)(Ce.a,{children:[Object(b.jsx)(Ne.a,{onClick:n,"data-testid":"dialogQuestionDisagree",children:"Disagree"}),Object(b.jsx)(Ne.a,{onClick:a,autoFocus:!0,"data-testid":"dialogQuestionAgree",children:"Agree"})]})]})},Le="Are you sure?",Se="Do you want delete this row data? This cannot be undone!",Ee=function(e){var t=e.entry,n=e.setMode,i=Object(a.useState)(!1),l=Object(E.a)(i,2),r=l[0],o=l[1],c=Object(m.b)(),d=Object(D.g)();return Object(b.jsxs)(I,{title:null===t||void 0===t?void 0:t.title,children:[Object(b.jsx)(h.a,{size:"large",edge:"end",color:"inherit","aria-label":"edit","data-testid":"edit",sx:{mr:1},onClick:function(){n("edit")},children:Object(b.jsx)(ge.a,{})}),Object(b.jsx)(h.a,{size:"large",edge:"end",color:"inherit","aria-label":"delete","data-testid":"delete",sx:{mr:1},onClick:function(e){e.preventDefault(),o(!0)},children:Object(b.jsx)(Ue.a,{})}),Object(b.jsx)(Te,{isAlertOpen:r,disagreeHandler:function(e){e.preventDefault(),o(!1)},agreeHandler:function(e){e.preventDefault(),c(Object(k.e)({libUUID:null===t||void 0===t?void 0:t.libUUID,rowUUID:null===t||void 0===t?void 0:t.rowUUID})),d.goBack()},title:Le,contentText:Se})]})},Fe=n(177),Ae=n.n(Fe),Be=n(178),Pe=n.n(Be),Me=function(e){var t=e.setMode,n=e.actionButtonHandler,a=n.cancelHandler,i=n.saveHandler,l=n.setIsSnackbarOpen;return Object(b.jsxs)(I,{mode:"empty",children:[Object(b.jsx)(h.a,{"data-testid":"saveEntry",size:"large",edge:"start",color:"inherit","aria-label":"save",sx:{mr:2},onClick:function(){t("view"),i(),l(!0)},children:Object(b.jsx)(Ae.a,{})}),Object(b.jsx)(x.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Edit"}),Object(b.jsx)(h.a,{"data-testid":"cancelEntry",size:"large",edge:"end",color:"inherit","aria-label":"cancel",sx:{mr:2},onClick:function(){t("view"),a()},children:Object(b.jsx)(Pe.a,{})})]})},qe=n(344),Re=n(51),Ve=n(314),Je=Object(Ve.a)(z||(z=Object(Re.a)(["\n  query {\n    librariesTemplates {\n      name\n      id\n      libUUID\n      sqlTableName\n      columns {\n        type\n        name\n        order\n        description\n        defaultValue\n        columnUUID\n        usage\n        sqlFieldName\n        sqlFieldType\n        options {\n          value\n          index\n          default\n          dictionaryLibraryUUID\n          dictionaryLibraryName\n          script\n        }\n      }\n    }\n  }\n"]))),He=(Object(Ve.a)($||($=Object(Re.a)(["\n  query {\n    librariesData {\n      name\n      id\n      libUUID\n      rows {\n        rowUUID\n        uniqueName\n        creationDate\n        modificationDate\n        columns {\n          value\n          columnName\n          columnUUID\n          entryLinks {\n            libUUID\n            uniqueName\n            rowUUID\n          }\n        }\n      }\n    }\n  }\n"]))),Object(Ve.a)(Q||(Q=Object(Re.a)(["\n  query {\n    librariesDataPG {\n      name\n      id\n      libUUID\n      rows {\n        rowUUID\n        fe_title\n        fe_description\n        rowJSON\n      }\n    }\n  }\n"])))),We=Object(Ve.a)(Y||(Y=Object(Re.a)(["\n  mutation updateLibraryRowsData($libraryData: LibraryDataInput) {\n    updateLibraryRowsData(libraryDataInput: $libraryData)\n  }\n"]))),Ge=Object(Ve.a)(Z||(Z=Object(Re.a)(["\n  mutation addLibraryRowsData($libraryData: LibraryDataInput) {\n    addLibraryRowsData(libraryDataInput: $libraryData)\n  }\n"]))),Ke=Object(Ve.a)(X||(X=Object(Re.a)(["\n  mutation addLibraryTemplate($libraryTemplate: LibraryTemplateInput) {\n    addLibraryTemplate(libraryTemplateInput: $libraryTemplate)\n  }\n"]))),ze=Object(Ve.a)(ee||(ee=Object(Re.a)(["\n  mutation updateLibraryTemplate($libraryTemplate: LibraryTemplateInput) {\n    updateLibraryTemplate(libraryTemplateInput: $libraryTemplate)\n  }\n"]))),$e=n(179),Qe=function(e){e.mode,e.field;var t,n=e.columnTemplate,a=Object($e.a)(null===n||void 0===n||null===(t=n.options[0])||void 0===t?void 0:t.script,null===n||void 0===n?void 0:n.type),i=a.status,l=a.value,r=a.error;return"success"===i?Object(b.jsx)("div",{children:l}):Object(b.jsxs)("div",{children:[" ",r," "]})},Ye=n(67),Ze=Object(Ye.b)({name:"configuration",initialState:{conf:{storageType:"localStorage",isFirstStart:!0}},reducers:{updateConfiguration:function(e,t){e.conf=t.payload}}}),Xe=Ze.actions.updateConfiguration,et=Ze.reducer,tt=function(e){return e.configuration.conf},nt=n(326),at=n(319),it=n(316),lt=function(e,t,n,a){switch(e.type){case"string":return Object(b.jsx)(P,{mode:n,field:t});case"float":return Object(b.jsx)(B,{mode:n,field:t});case"int":return Object(b.jsx)(A,{mode:n,field:t});case"image":return Object(b.jsx)(J,{value:t.value,mode:n,field:t});case"date":return Object(b.jsx)(H,{mode:n,field:t});case"dateTime":return Object(b.jsx)(te,{mode:n,field:t});case"barcode":return Object(b.jsx)(ne,{value:t.value,mode:n,field:t});case"audio":return Object(b.jsx)(ae,{value:t.value,mode:n,field:t});case"checkbox":return Object(b.jsx)(re,{mode:n,field:t});case"dropDownList":return Object(b.jsx)(de,{mode:n,field:t,options:a});case"libEntry":return Object(b.jsx)(ye,{mode:n,field:t,columnTemplate:e});case"script":return Object(b.jsx)(Qe,{mode:n,field:t,columnTemplate:e});default:return Object(b.jsx)("div",{children:"----"})}},rt=function(){var e,t,n,i,l=Object(D.h)(),r=null===(e=l.state)||void 0===e?void 0:e.libUUID,o=null===(t=l.state)||void 0===t?void 0:t.rowUUID;if(!r){var c=localStorage.getItem("entryViewConfig");r=JSON.parse(c).libUUID,o=JSON.parse(c).rowUUID}var d=Object(m.b)(),u=null===(n=Object(m.c)((function(e){return tt(e)})))||void 0===n?void 0:n.storageType,s=Object(a.useState)(!1),j=Object(E.a)(s,2),p=j[0],O=j[1],h=Object(qe.a)(We),x=Object(E.a)(h,1)[0],U=Object(qe.a)(Ge),y=Object(E.a)(U,1)[0],_=Object(a.useState)("addNewEntry"===(null===l||void 0===l||null===(i=l.state)||void 0===i?void 0:i.mode)?"addNewEntry":"view"),g=Object(E.a)(_,2),I=g[0],w=g[1],N=Object(m.c)((function(e){return Object(f.f)(e,r)}))||{},T=N.columns,S=N.sqlTableName,F=Object(m.c)((function(e){return Object(k.g)(e,{rowUUID:o,libUUID:r})})),A={title:null===F||void 0===F?void 0:F.fe_title,libUUID:r,rowUUID:o,mode:I},B=null===T||void 0===T?void 0:T.map((function(e){var t,n,a=[],i=F?F[e.sqlFieldName]:null;"libEntry"===(null===e||void 0===e?void 0:e.type)?(a=null===e||void 0===e||null===(n=e.options[0])||void 0===n?void 0:n.dictionaryLibraryName,i=F?i:{}):"dropDownList"===(null===e||void 0===e?void 0:e.type)&&(a=null===e||void 0===e?void 0:e.options);return{type:null===e||void 0===e?void 0:e.type,name:null===e||void 0===e?void 0:e.name,order:null===e||void 0===e?void 0:e.order,columnTemplate:e,options:a,field:{value:i,columnUUID:null===e||void 0===e?void 0:e.columnUUID,columnName:null===e||void 0===e?void 0:e.name,entryLinks:F?null===(t=F[e.sqlFieldName])||void 0===t?void 0:t.entrylinks:[]}}}));Object(a.useEffect)((function(){return d(Object(v.g)(B)),function(){console.log("clear state after dismount component"),d(Object(v.b)())}}),[]),Object(a.useEffect)((function(){localStorage.setItem("entryViewConfig",JSON.stringify({rowUUID:o,libUUID:r,mode:I})),d(Object(v.g)(B))}),[o,r,T]);var P=function(e,t){var n=function(e){var t,n;return(null===e||void 0===e?void 0:e.hasOwnProperty("value"))?(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.hasOwnProperty("value"))?null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.value:null===e||void 0===e?void 0:e.value:null},a=e.map((function(e){var a,i,l,r,c=null===(a=e.field)||void 0===a||null===(i=a.entryLinks)||void 0===i?void 0:i.map((function(n){return{columnParentName:n.columnParentName?n.columnParentName:e.columnTemplate.sqlFieldName,libUUID:n.libUUID,rowUUID:n.rowUUID,tableName:n.tableName,uuid:e.field.value.value,tableParentName:S,rowParentUUID:t||o}}));return{sqlFieldName:null===e||void 0===e||null===(l=e.columnTemplate)||void 0===l?void 0:l.sqlFieldName,value:n(null===e||void 0===e?void 0:e.field),type:null===e||void 0===e||null===(r=e.columnTemplate)||void 0===r?void 0:r.type,entryLinks:c}})),i=[{rowUUID:t||o,rowJSON:JSON.stringify(a)}];return{sqlTableName:S,libUUID:r,rows:i}},M=function(e,t){try{var n=P(e,t);"outerDatabase"===u&&y({variables:{libraryData:n}})}catch(a){console.log("error occurred while adding entry to db: "+a)}},q=function(e){try{var t=P(e);"outerDatabase"===u&&x({variables:{libraryData:t}})}catch(n){console.log("error occurred while updating entry: "+n)}},R=Object(m.c)((function(e){return Object(v.e)(e)})),V=function(e,t){"clickaway"!==t&&O(!1)},J="edit"===I||"addNewEntry"===I;return Object(b.jsxs)(a.Fragment,{children:["view"===I&&Object(b.jsx)(Ee,{entry:A,setMode:w}),J&&Object(b.jsx)(Me,{entry:A,setMode:w,actionButtonHandler:{cancelHandler:function(){d(Object(v.g)(B))},saveHandler:function(){var e="addNewEntry"===I?Object(C.a)():o,t={editedFields:R,libUUID:r,rowUUID:e};"addNewEntry"===I?(M(R,e),d(Object(k.b)(t))):(q(R),d(Object(k.l)(t)))},setIsSnackbarOpen:O}}),Object(b.jsx)(nt.a,{container:!0,spacing:1,children:null===R||void 0===R?void 0:R.map((function(e){var t;return Object(b.jsxs)(nt.a,{item:!0,xs:12,sx:{m:1},children:[lt(e.columnTemplate,e.field,I,e.options),Object(b.jsx)(L.a,{})]},null===e||void 0===e||null===(t=e.field)||void 0===t?void 0:t.columnUUID)}))}),Object(b.jsx)(at.a,{open:p,autoHideDuration:5e3,onClose:V,children:Object(b.jsx)(it.a,{onClose:V,severity:"success",sx:{width:"100%"},children:"Entry saved successfully!"})})]})},ot=n(183),ct=n.n(ot),dt="Are you sure?",ut=" Do you want delete this library template with data? This can't be\n  undone.",st=function(e){var t=e.libUUID,n=e.closeMenu,i=Object(D.g)(),l=Object(a.useState)(!1),r=Object(E.a)(l,2),o=r[0],c=r[1],d=Object(m.b)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ce.a,{onClick:function(e){e.preventDefault(),i.push({pathname:"/creator",state:{libUUID:t}})},"data-testid":"libraryMenuEditTemplate",children:"Edit template"}),Object(b.jsx)(ce.a,{onClick:function(e){e.preventDefault(),c(!0)},"data-testid":"libraryMenuDelete",children:"Delete lib"}),Object(b.jsx)(Te,{isAlertOpen:o,disagreeHandler:function(e){e.preventDefault(),n(e),c(!1)},agreeHandler:function(e){e.preventDefault(),n(e),d(Object(k.d)({libUUID:t})),d(Object(f.c)({libUUID:t})),c(!1)},title:dt,contentText:ut})]})},bt=n(346),jt=n(347),mt=n(348),ft=n(190),vt=n(349),pt=n(350),Ot=n(184),ht=n.n(Ot),xt=function(e){var t=e.library,n=Object(D.g)(),i=Object(a.useState)(null),l=Object(E.a)(i,2),r=l[0],o=l[1],d=Boolean(r),u=function(e){o(null),e.preventDefault()};return Object(b.jsx)(c.b,{to:{pathname:"/library",state:{libUUID:null===t||void 0===t?void 0:t.libUUID}},children:Object(b.jsxs)(bt.a,{sx:{maxWidth:200,m:1,backgroundColor:"primary.light"},children:[Object(b.jsx)(jt.a,{avatar:Object(b.jsx)(mt.a,{image:"https://img.icons8.com/ios/452/field.png",width:"30",component:"img",sx:{maxWidth:50}}),action:Object(b.jsx)(h.a,{id:"additional-action-button","aria-controls":"additional-action-menu","aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:function(e){o(e.currentTarget),e.preventDefault()},"data-testid":"libraryMenu-".concat(null===t||void 0===t?void 0:t.name.toLowerCase()),children:Object(b.jsx)(ht.a,{})}),title:"",subheader:""}),Object(b.jsx)(ft.a,{id:"additional-action-menu","aria-labelledby":"additional-action-button",anchorEl:r,open:d,onClose:u,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(b.jsx)(st,{closeMenu:u,libUUID:null===t||void 0===t?void 0:t.libUUID})}),Object(b.jsxs)(vt.a,{children:[Object(b.jsx)(x.a,{variant:"body1",color:"initial",children:null===t||void 0===t?void 0:t.name}),Object(b.jsxs)(x.a,{variant:"body2",color:"initial",children:["Entries: ",null===t||void 0===t?void 0:t.entriesCount]}),Object(b.jsx)(x.a,{variant:"body3",color:"initial",children:null===t||void 0===t?void 0:t.lastModification})]}),Object(b.jsx)(pt.a,{disableSpacing:!0,children:Object(b.jsx)(h.a,{id:"addNewEntryIn"+(null===t||void 0===t?void 0:t.name),size:"large",variant:"",edge:"end",color:"primary","aria-label":"home",sx:{mr:1,ml:"auto",backgroundColor:"primary.main",color:"primary.dark","&:hover":{backgroundColor:"secondary.light"}},onClick:function(e){e.preventDefault(),n.push({pathname:"/library/entry",state:{libUUID:null===t||void 0===t?void 0:t.libUUID,mode:"addNewEntry",rowUUID:null}})},children:Object(b.jsx)(he.a,{})})})]})})},Ut=function(){var e=Object(m.c)((function(e){return e.librariesTemplate}));return e?Object(b.jsx)("ul",{className:ct.a.list,children:e.map((function(e){return Object(b.jsx)("li",{"data-testid":"lib-"+e.name.replaceAll(" ","_").toLowerCase(),children:Object(b.jsx)(xt,{library:e})},e.libUUID)}))}):Object(b.jsx)("div",{children:"...loading"})},yt=n(320),_t=n(5),gt=n(185),Dt=n.n(gt),It=function(e){var t=e.setOptions,n=e.options,i=Object(m.c)((function(e){return Object(f.e)(e)})),l=Object(a.useState)(function(){var e;return!n||(null===n||void 0===n?void 0:n.length)<1?[]:null===(e=i.find((function(e){var t;return(null===e||void 0===e?void 0:e.libUUID)===(null===(t=n[0])||void 0===t?void 0:t.dictionaryLibraryUUID)})))||void 0===e?void 0:e.sqlTableName}()),r=Object(E.a)(l,2),o=r[0],c=r[1],d=function(e){if(!(i.length<=e)){var n=[{dictionaryLibraryName:i[e].name,dictionaryLibraryUUID:i[e].libUUID}];t(n)}};Object(a.useEffect)((function(){i.length&&d(0)}),[i]);return Object(b.jsxs)("div",{className:Dt.a.main,children:["Choose library from list",Object(b.jsx)("select",{onChange:function(e){var t=e.target.selectedIndex;d(t),c(e.target.value)},defaultValue:o,children:i.map((function(e){return Object(b.jsx)("option",{value:e.sqlTableName,children:e.name},e.libUUID)}))})]})},wt=n(96),kt=n.n(wt),Ct=function(e){var t=e.setOptions,n=e.options,i=Object(a.useState)(n||[]),l=Object(E.a)(i,2),r=l[0],o=l[1],c=Object(a.useState)(!1),d=Object(E.a)(c,2),u=d[0],s=d[1],j=Object(a.useState)(""),m=Object(E.a)(j,2),f=m[0],v=m[1],p=Object(a.useState)(!1),O=Object(E.a)(p,2),h=O[0],x=O[1];return Object(b.jsx)(a.Fragment,{children:Object(b.jsxs)("div",{children:["Point list:",Object(b.jsx)("ul",{className:kt.a.ul,children:r.map((function(e,t){return Object(b.jsxs)("li",{className:kt.a.list,children:[e.value," ",e.default?"\u2714":null,Object(b.jsx)("button",{onClick:function(e){return function(e,t){e.preventDefault();var n=Object(M.a)(r);n.splice(t,1),o(n)}(e,t)},children:"\u2715"})]},t)}))}),u&&Object(b.jsxs)("div",{className:kt.a.modal,children:[Object(b.jsxs)("header",{className:kt.a.header,children:[Object(b.jsx)("button",{onClick:function(){s(!1)},children:"\u2190"}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault();var n={default:!r.find((function(e){return e.default}))&&h,index:r.length+1,value:f};if(f){var a=[].concat(Object(M.a)(r),[n]);o([].concat(Object(M.a)(r),[n])),t(a)}v(),s(!1),x(!1)},children:"\u2713"})]}),Object(b.jsx)("label",{htmlFor:"pointName",children:"Point name:"}),Object(b.jsx)("input",{type:"text",id:"pointName",defaultValue:f,onChange:function(e){return v(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"isDefault",children:"Is point Default?"}),Object(b.jsx)("input",{type:"checkbox",id:"isDefault",defaultChecked:h,onChange:function(e){return x(e.target.checked)}})]}),Object(b.jsx)("button",{onClick:function(e){s(!0),e.preventDefault()},children:"Add"}),u&&Object(b.jsx)("div",{className:kt.a.backdrop})]})})},Nt=n(89),Tt=n.n(Nt),Lt=function(e){var t,n=null===e||void 0===e||null===(t=e.options[0])||void 0===t?void 0:t.script;return JSON.parse(n).expr},St=function(e){var t=e.saveFieldConfigHandler,n=(e.fieldConfigTemplate,e.cancelModal),i=e.fieldConfig,l=[{name:"Text",type:"string"},{name:"Float",type:"float"},{name:"Int",type:"int"},{name:"Image",type:"image"},{name:"Audio",type:"audio"},{name:"Date time",type:"dateTime"},{name:"Checkbox",type:"checkbox"},{name:"Script",type:"script"},{name:"Dropdown list",type:"dropDownList"},{name:"Link to library",type:"libEntry"}],r=[{name:"Normal",type:"normal"},{name:"Title",type:"title"},{name:"Description",type:"description"},{name:"Status",type:"status"}],c=function(){var e;return null===(e=l.find((function(e){return e.type===j.type})))||void 0===e?void 0:e.type},d={usage:r[0].type},u=Object(a.useState)(i||d),s=Object(E.a)(u,2),j=s[0],m=s[1],f=Object(a.useState)(c()||l[0].type),v=Object(E.a)(f,2),p=v[0],O=v[1],h=Object(a.useState)(j.options||[]),x=Object(E.a)(h,2),U=x[0],y=x[1],_=function(e){y(e)},g=function(e){m((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(_t.a)({},e.target.id,"checkbox"===(n=e.target).type?n.checked?1:0:n.value));var n}))};return console.log("aviableTypesFound! ",c(),j.type),Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)("div",{className:Tt.a.modal,children:Object(b.jsxs)("div",{className:Tt.a.container,children:[Object(b.jsxs)("header",{className:Tt.a.header,children:[Object(b.jsx)("button",{id:"cancelFields",onClick:n,children:"\u2190"}),Object(b.jsx)("button",{id:"submitFields",onClick:function(e){e.preventDefault(),console.log(e.target);var n=Object(o.a)({},j);n.type=p,n.sqlFieldName=n.name.replaceAll("  "," ").replaceAll(" ","_").toLowerCase(),n.options=U,t(n)},children:"\u2713"})]}),Object(b.jsx)("h2",{children:"Field Creator"}),Object(b.jsxs)("section",{className:Tt.a.type,children:[Object(b.jsx)("label",{htmlFor:"field",children:"Field type:"}),Object(b.jsx)("select",{name:"field",id:"field",onChange:function(e){return O(e.target.value)},defaultValue:p,children:l.map((function(e){return Object(b.jsx)("option",{value:e.type,children:e.name},e.type)}))})]}),p&&Object(b.jsxs)("form",{className:Tt.a.form,children:[Object(b.jsx)("label",{htmlFor:"name",children:"Field Name:"}),Object(b.jsx)("input",{type:"text",id:"name",onBlur:g,defaultValue:j.name}),Object(b.jsx)("label",{htmlFor:"sqlFieldType",children:"Field sql type:"}),Object(b.jsx)("input",{type:"text",id:"sqlFieldType",onBlur:g,defaultValue:j.sqlFieldType}),function(e){return"checkbox"===e||"dropDownList"===e||"libEntry"===e||"script"===e?null:Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)("label",{htmlFor:"description",children:"Hint:"}),Object(b.jsx)("input",{type:"text",id:"description",onBlur:g,defaultValue:j.description})]})}(p),function(e){return"dropDownList"===e||"libEntry"===e||"script"===e?null:"checkbox"===e?Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)("label",{htmlFor:"defaultValue",children:"Default value:"}),Object(b.jsx)("input",{type:"checkbox",id:"defaultValue",onChange:g,defaultChecked:j.defaultValue})]}):Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)("label",{htmlFor:"defaultValue",children:"Default value:"}),Object(b.jsx)("input",{type:"text",id:"defaultValue",onBlur:g,defaultValue:j.defaultValue})]})}(p),"dropDownList"===p&&Object(b.jsx)(Ct,{setOptions:_,options:j.options}),"libEntry"===p&&Object(b.jsx)(It,{setOptions:_,options:j.options}),"script"===p&&Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)("label",{htmlFor:"script",children:" Script code "}),Object(b.jsx)("textarea",{defaultValue:Lt(j),rows:20,onBlur:function(e){var t,n=[],a=null===j||void 0===j||null===(t=j.options[0])||void 0===t?void 0:t.script,i=JSON.parse(a);i.expr=e.target.value,n[0]={script:JSON.stringify(i)},y(n)}})]}),Object(b.jsx)("label",{htmlFor:"usage",children:"Field view:"}),Object(b.jsx)("select",{id:"usage",name:"usage",onChange:g,defaultValue:j.usage,children:r.map((function(e){return Object(b.jsx)("option",{value:e.type,children:e.name},e.type)}))})]})]})}),Object(b.jsx)("div",{className:Tt.a.backdrop})]})},Et=n(110),Ft=n.n(Et),At=function(e){var t=e.fieldConfig,n=e.editField;return Object(b.jsxs)("li",{className:Ft.a.box,onClick:function(){return n(t.columnUUID)},children:[Object(b.jsxs)("div",{className:Ft.a.leftSide,children:[Object(b.jsxs)("div",{children:[" ",t.name," "]}),Object(b.jsxs)("div",{className:Ft.a.description,children:[Object(b.jsxs)("div",{children:[" ",t.type]}),t.options.length>0&&Object(b.jsxs)("div",{className:Ft.a.libName,children:["\u2003 ",t.options[0].dictionaryLibraryName]})]})]}),Object(b.jsxs)("div",{children:[" ",t.usage]})]},t.columnUUID)},Bt=n(135),Pt=n.n(Bt),Mt=function(e){var t=e.saveFieldsConfigHandler,n=e.fields,i=Object(a.useState)(n||[]),l=Object(E.a)(i,2),r=l[0],c=l[1],d=Object(a.useState)("view"),u=Object(E.a)(d,2),s=u[0],j=u[1],m=Object(a.useState)(),f=Object(E.a)(m,2),v=f[0],p=f[1];Object(a.useEffect)((function(){t(r)}),[r]);var O=function(e){j("edit");var t=r.find((function(t){return t.columnUUID===e}));p(t)};return Object(b.jsxs)("div",{className:Pt.a.fields,children:["template fields",Object(b.jsxs)("ul",{className:Pt.a.ul,children:[0===r.length&&Object(b.jsx)("div",{children:"No field added yet..."}),null===r||void 0===r?void 0:r.map((function(e){return Object(b.jsx)(At,{fieldConfig:e,editField:O},e.columnUUID)}))]}),Object(b.jsx)("button",{onClick:function(){return j("addNew")},className:Pt.a.addButton,children:"+"}),"addNew"===s&&Object(b.jsx)(St,{saveFieldConfigHandler:function(e){(null===e||void 0===e?void 0:e.columnUUID)||(e.columnUUID=Object(C.a)()),c((function(t){return[].concat(Object(M.a)(t),[e])})),j("view")},cancelModal:function(){return j("view")}}),"edit"===s&&Object(b.jsx)(St,{saveFieldConfigHandler:function(e){console.log("update",e);var t=r.findIndex((function(t){return t.columnUUID===e.columnUUID})),n=Object(M.a)(r);n[t]=e,c(n),j("view")},cancelModal:function(){return j("view")},fieldConfig:Object(o.a)({},v)})]})},qt=n(186),Rt=n.n(qt),Vt=function(e){var t=Object(D.g)(),n=Object(m.b)();return Object(b.jsx)("button",{onClick:function(){(null===e||void 0===e?void 0:e.clearEntryStore)&&(console.log("clear state"),n(Object(v.b)())),t.goBack()},className:Rt.a.goBack,children:"\u2190"})},Jt=n(69),Ht=n.n(Jt),Wt=function(){var e,t,n,i=Object(D.h)();n=null===i||void 0===i||null===(e=i.state)||void 0===e?void 0:e.libUUID;var l=Object(a.useState)({}),r=Object(E.a)(l,2),c=r[0],d=r[1],u=Object(a.useState)("main"),s=Object(E.a)(u,2),j=s[0],v=s[1],p=Object(m.b)(),O=Object(qe.a)(Ke),h=Object(E.a)(O,1)[0],x=Object(qe.a)(ze),U=Object(E.a)(x,1)[0],y=Object(D.g)(),_=!!n,g=null===(t=Object(m.c)((function(e){return tt(e)})))||void 0===t?void 0:t.storageType,I=Object(m.c)((function(e){return Object(f.f)(e,n)}));n&&!(null===c||void 0===c?void 0:c.libUUID)&&d(Object(o.a)({},I)),n||(null===c||void 0===c?void 0:c.libUUID)||d((function(e){return Object(o.a)(Object(o.a)({},e),{},{libUUID:Object(C.a)()})}));var w=function(e){d((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(_t.a)({},e.target.id,e.target.value))}))},N=function(){return"main"===j?Ht.a.active:[]},T=function(){return"fields"===j?Ht.a.active:[]};return Object(b.jsxs)("div",{className:Ht.a.main,children:[Object(b.jsxs)("header",{className:Ht.a.header,children:[Object(b.jsx)("div",{className:Ht.a.goBack,children:Object(b.jsx)(Vt,{})}),Object(b.jsx)("button",{onClick:function(){try{var e=Object(o.a)({},c);e.sqlTableName=function(e){var t,n;return null===e||void 0===e||null===(t=e.replaceAll("  "," "))||void 0===t||null===(n=t.replaceAll(" ","_"))||void 0===n?void 0:n.toLowerCase()}(e.name),p(Object(f.a)(e)),p(Object(k.a)({name:e.name,libUUID:e.libUUID})),_?"outerDatabase"===g&&U({variables:{libraryTemplate:e}}):"outerDatabase"===g&&h({variables:{libraryTemplate:e}}),y.push("/")}catch(t){console.log("error occurred while update/insert template in db/state manager: ".concat(t))}},children:"\u2713"})]}),Object(b.jsxs)("section",{className:Ht.a.tab,children:[Object(b.jsx)("button",{onClick:function(){return v("main")},className:[Ht.a.tabButton,N()].join(" "),children:"Main"}),Object(b.jsx)("button",{onClick:function(){return v("fields")},className:[Ht.a.tabButton,T()].join(" "),children:"Field"})]}),"main"===j&&Object(b.jsxs)("section",{className:[Ht.a.mainOptions,N()].join(" "),children:[Object(b.jsx)("label",{htmlFor:"name",children:" Name"}),Object(b.jsx)("input",{type:"edit",id:"name",onBlur:w,defaultValue:c.name}),Object(b.jsx)("label",{htmlFor:"color",children:" Color"}),Object(b.jsx)("input",{type:"color",id:"color",onBlur:w}),Object(b.jsx)("label",{htmlFor:"group",children:" Group"}),Object(b.jsx)("input",{type:"text",id:"group",onBlur:w})]}),"fields"===j&&Object(b.jsx)("div",{className:[T()].join(" "),children:Object(b.jsx)(Mt,{saveFieldsConfigHandler:function(e){d((function(t){return Object(o.a)(Object(o.a)({},t),{},{columns:e})}))},fields:c.columns})})]})},Gt=n(188),Kt=n.n(Gt),zt=n(187),$t=n.n(zt),Qt=function(e){var t=e.handleCloseMenu,n=Object(D.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ce.a,{onClick:function(){n.push("/configuration"),t()},children:"Configuration"}),Object(b.jsx)(ce.a,{onClick:function(){n.push("/creator"),t()},children:"New Library"})]})},Yt=function(){var e=Object(a.useState)(null),t=Object(E.a)(e,2),n=t[0],i=t[1],l=function(){i(null)},r=Object(D.g)();return Object(b.jsx)(s.a,{sx:{flexGrow:1},children:Object(b.jsx)(p.a,{position:"static",children:Object(b.jsxs)(O.a,{children:[Object(b.jsx)(h.a,{size:"large",edge:"start",color:"inherit","aria-label":"settings",sx:{mr:2},onClick:function(){r.push("/configuration")},children:Object(b.jsx)($t.a,{})}),Object(b.jsx)(x.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Default group"}),Object(b.jsx)(h.a,{size:"large","aria-label":"config","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(b.jsx)(Kt.a,{})}),Object(b.jsx)(ft.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(n),onClose:l,children:Object(b.jsx)(Qt,{handleCloseMenu:l})})]})})})},Zt=n(337),Xt=n(322),en=function(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],i=t[1],l=function(){i(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x.a,{component:"h4",children:"Clear database data?"}),Object(b.jsx)(Ne.a,{variant:"outlined",color:"error",sx:{maxWidth:"40%"},onClick:function(){i(!0)},children:"Clear local storage"}),Object(b.jsxs)(De.a,{open:n,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(b.jsx)(Ie.a,{id:"alert-dialog-title",children:"Are you sure?"}),Object(b.jsx)(we.a,{children:Object(b.jsx)(ke.a,{id:"alert-dialog-description",children:"This action will clear data from local storage. All your created library will be deleted with data. That's cannot be undone!"})}),Object(b.jsxs)(Ce.a,{children:[Object(b.jsx)(Ne.a,{onClick:l,children:"Disagree"}),Object(b.jsx)(Ne.a,{onClick:function(){localStorage.removeItem("libsData"),localStorage.removeItem("templates"),localStorage.removeItem("entryViewConfig"),i(!1),window.location.reload(!1)},autoFocus:!0,children:"Agree"})]})]})]})},tn=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return tt(e)})),n=Object(a.useState)(null===t||void 0===t?void 0:t.storageType),i=Object(E.a)(n,2),l=i[0],r=i[1],c=Object(a.useState)(!1),d=Object(E.a)(c,2),u=d[0],j=d[1],f=function(e,t){"clickaway"!==t&&j(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{title:"Configuration"}),Object(b.jsx)("form",{onSubmit:function(n){var a=Object(o.a)(Object(o.a)({},t),{},{storageType:l});e(Xe(a)),localStorage.setItem("config",JSON.stringify(a)),n.preventDefault(),j(!0)},children:Object(b.jsxs)(s.a,{display:"flex",flexDirection:"column",children:[Object(b.jsxs)(Zt.a,{sx:{m:3},children:[Object(b.jsx)(Xt.a,{id:"storageTypeLabel",children:"Storage type"}),Object(b.jsxs)(oe.a,{labelId:"storageTypeLabel",id:"storageType",value:l,onChange:function(e){r(e.target.value)},autoWidth:!0,label:"Storage type",children:[Object(b.jsx)(ce.a,{value:"localStorage",children:"Local storage"}),Object(b.jsx)(ce.a,{value:"outerDatabase",children:"Outer database"})]})]}),Object(b.jsx)(Zt.a,{sx:{ml:3},children:Object(b.jsx)(en,{})}),Object(b.jsx)(Ne.a,{type:"submit",variant:"contained",sx:{mt:3},children:"Save"}),Object(b.jsx)(at.a,{open:u,autoHideDuration:5e3,onClose:f,children:Object(b.jsx)(it.a,{onClose:f,severity:"success",sx:{width:"100%"},children:"Config saved successfully!"})})]})})]})};var nn=function(){var e=Object(yt.a)(He),t=e.loading,n=e.error,i=e.data,l=Object(yt.a)(Je),r=l.loading,d=l.error,u=l.data,s=Object(m.b)();return Object(a.useEffect)((function(){var e,t=localStorage.getItem("config"),n=JSON.parse(t),a=(null===(e=n)||void 0===e?void 0:e.isFirstStart)||null===n;a&&(n=JSON.parse('{"storageType":"localStorage", "isFirstStart":true}'),n=Object(o.a)(Object(o.a)({},n),{},{isFirstStart:!1}),localStorage.setItem("config",JSON.stringify(n))),s(Xe(n));var i=localStorage.getItem("templates");a&&(i='[\n    {\n       "libUUID":"caefce1c-b126-40de-a816-e4038d38b103",\n       "name":"Persons",\n       "columns":[\n          {\n             "usage":"title",\n             "name":"Name",\n             "type":"string",\n             "sqlFieldName":"name",\n             "options":[\n                \n             ],\n             "columnUUID":"e5a55943-2b1f-481d-9274-f27fdb474bd2"\n          }\n       ],\n       "sqlTableName":"persons"\n    },\n    {\n       "libUUID":"566bf6a6-60ee-440b-a67a-b4154f0af8d7",\n       "name":"Books",\n       "columns":[\n          {\n             "usage":"title",\n             "name":"Name",\n             "type":"string",\n             "sqlFieldName":"name",\n             "options":[\n                \n             ],\n             "columnUUID":"e77ffe47-74a0-46ca-8dcc-cee505b76e2e"\n          },\n          {\n             "usage":"description",\n             "name":"Number of pages",\n             "type":"int",\n             "sqlFieldName":"number_of_pages",\n             "options":[\n                \n             ],\n             "columnUUID":"f9999d4e-3c71-43d1-80df-941683a02c73"\n          },\n          {\n             "usage":"normal",\n             "name":"Author",\n             "type":"string",\n             "sqlFieldName":"author",\n             "options":[\n                \n             ],\n             "columnUUID":"0f263e33-7912-465c-a40b-3395d205dec2"\n          },\n          {\n             "usage":"normal",\n             "name":"Was read",\n             "type":"checkbox",\n             "sqlFieldName":"was_read",\n             "options":[\n                \n             ],\n             "columnUUID":"c80414d3-022d-4ce9-87ec-4f84442ab7ec"\n          },\n          {\n             "usage":"normal",\n             "name":"Who read",\n             "type":"libEntry",\n             "sqlFieldName":"who_read",\n             "options":[\n                {\n                   "dictionaryLibraryName":"Persons",\n                   "dictionaryLibraryUUID":"caefce1c-b126-40de-a816-e4038d38b103"\n                }\n             ],\n             "columnUUID":"48678fc4-51d5-4095-9962-bb89fe5bcbb9"\n          },\n          {\n             "usage":"normal",\n             "name":"Category",\n             "type":"dropDownList",\n             "sqlFieldName":"category",\n             "options":[\n                {\n                   "default":false,\n                   "index":1,\n                   "value":"Classics"\n                },\n                {\n                   "default":false,\n                   "index":2,\n                   "value":"Action and Adventure"\n                },\n                {\n                   "default":false,\n                   "index":3,\n                   "value":"Comic Book"\n                },\n                {\n                   "default":false,\n                   "index":4,\n                   "value":"Fantasy"\n                },\n                {\n                   "default":false,\n                   "index":5,\n                   "value":"Historical Fiction"\n                },\n                {\n                   "default":false,\n                   "index":6,\n                   "value":"Horror"\n                },\n                {\n                   "default":false,\n                   "index":7,\n                   "value":"Literary Fiction"\n                }\n             ],\n             "columnUUID":"30523198-4d68-43cf-b2be-5fbab00f7f18"\n          }\n       ],\n       "sqlTableName":"books"\n    }\n ]'),s(Object(f.g)(JSON.parse(i)));var l=localStorage.getItem("libsData");a&&(l='[\n    {\n       "name":"Persons",\n       "libUUID":"caefce1c-b126-40de-a816-e4038d38b103",\n       "rows":[\n          {\n             "name":"John",\n             "rowUUID":"3f6a4d51-806d-48c4-bdb6-f5d9df8d64d7",\n             "fe_title":"John",\n             "fe_description":""\n          }\n       ]\n    },\n    {\n       "name":"Books",\n       "libUUID":"566bf6a6-60ee-440b-a67a-b4154f0af8d7",\n       "rows":[\n          {\n             "name":"The Hobbit",\n             "number_of_pages":"310",\n             "author":"J.R.R. Tolkien",\n             "was_read":"1",\n             "who_read":{\n                "value":"71926154-98e3-457e-82b9-2017ce491e6e",\n                "entrylinks":[\n                   {\n                      "rowUUID":"3f6a4d51-806d-48c4-bdb6-f5d9df8d64d7",\n                      "columnUUID":"48678fc4-51d5-4095-9962-bb89fe5bcbb9",\n                      "rowTitle":"John",\n                      "libUUID":"caefce1c-b126-40de-a816-e4038d38b103",\n                      "tableName":"persons"\n                   }\n                ]\n             },\n             "category":"Fantasy",\n             "rowUUID":"cb17806e-4e20-4fc8-9a06-8680ee3d96bf",\n             "fe_title":"The Hobbit",\n             "fe_description":"310"\n          }\n       ]\n    }\n ]'),s(Object(k.k)(JSON.parse(l)))}),[]),Object(a.useEffect)((function(){d?console.error("error In GET_LIBRARIES_TEMPLATES",d):r||s(Object(f.g)(null===u||void 0===u?void 0:u.librariesTemplates))}),[u,s,r,d]),Object(a.useEffect)((function(){n?console.error("error In GET_LIBRARIES_DATA_PG",n):t||s(Object(k.j)(null===i||void 0===i?void 0:i.librariesDataPG))}),[t,i,s,n]),Object(b.jsx)(c.a,{children:Object(b.jsxs)(D.d,{children:[Object(b.jsx)(D.b,{exact:!0,path:"/",render:function(){return Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(Yt,{}),Object(b.jsx)(Ut,{})]})}}),Object(b.jsx)(D.b,{exact:!0,path:"/library",component:S}),Object(b.jsx)(D.b,{exact:!0,path:"/library/entry/",component:rt}),Object(b.jsx)(D.b,{exact:!0,path:"/creator",component:Wt}),Object(b.jsx)(D.b,{exact:!0,path:"/configuration",component:tn}),Object(b.jsx)(D.a,{to:"/"})]})})},an=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,351)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,l=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),l(e),r(e)}))},ln=Object(Ye.a)({reducer:{librariesTemplate:f.b,editedEntry:v.c,librariesData:k.c,configuration:et}}),rn=n(312),on=n(313),cn=n(309),dn=function(){var e=Object(m.c)((function(e){return Object(k.i)(e)}));e.length&&localStorage.setItem("libsData",JSON.stringify(e));var t=Object(m.c)((function(e){return Object(f.d)(e)}));return t.length&&localStorage.setItem("templates",JSON.stringify(t)),Object(b.jsx)(b.Fragment,{})},un=n(324),sn=n(189),bn=n(168),jn=n(308),mn=Object(sn.a)({palette:{primary:{dark:bn.a[700],main:bn.a[500],light:bn.a[400],lighter:bn.a[200]},secondary:{main:jn.a[300],light:jn.a[100],dark:jn.a[600]}}}),fn=new rn.a({uri:"http://192.168.55.37:4000",cache:new on.a({addTypename:!1})});r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(m.a,{store:ln,children:Object(b.jsx)(cn.a,{client:fn,children:Object(b.jsx)(un.a,{theme:mn,children:Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(nn,{}),Object(b.jsx)(dn,{})]})})})})}),document.getElementById("root")),an()},25:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return b}));var a=n(67),i=Object(a.b)({name:"editedEntry",initialState:{items:[]},reducers:{clearState:function(e,t){e.items=[]},updateFieldValue:function(e,t){var n=t.payload,a=n.columnUUID,i=n.value,l=n.type,r=n.checked,o=e.items.findIndex((function(e){return e.field.columnUUID===a})),c=i;"checkbox"===l&&(c=r?"1":"0"),o>=0&&(e.items[o].field.value=String(c))},updateEntryValues:function(e,t){e.items=t.payload},addNewEntryLink:function(e,t){var n=t.payload,a=n.parentColumnUUID,i=n.rowUUID,l=n.fe_title,r=n.newUUID,o=n.libUUID,c=n.sqlTableName,d=n.columnParentName,u={rowUUID:i,columnUUID:a,rowTitle:l,libUUID:o,tableName:c,columnParentName:d};console.log("linkENtry: ",u,"newUUID:",r);var s,b,j=e.items.findIndex((function(e){return e.field.columnUUID===a}));if(j>=0)if((null===(s=e.items[j].field)||void 0===s||null===(b=s.entryLinks)||void 0===b?void 0:b.length)>0){var m,f,v,p,O;console.log("fieldIndex",j,"newUUID",r),(null===(m=e.items[j])||void 0===m||null===(f=m.field)||void 0===f||null===(v=f.value)||void 0===v?void 0:v.value)||(e.items[j].field.value.value=r),null===(p=e.items[j].field)||void 0===p||null===(O=p.entryLinks)||void 0===O||O.push(u)}else{console.log("newUUID",r);var h=[];h.push(u),e.items[j].field.value.value=r,e.items[j].field.entryLinks=h}},deleteEntryLink:function(e,t){var n,a,i=t.payload,l=i.columnUUID,r=i.entryIndex,o=e.items.findIndex((function(e){return e.field.columnUUID===l}));o>=0&&r>=0&&(null===(n=e.items[o].field)||void 0===n||null===(a=n.entryLinks)||void 0===a||a.splice(r,1))}}}),l=i.actions,r=l.updateFieldValue,o=l.updateEntryValues,c=l.addNewEntryLink,d=l.deleteEntryLink,u=l.clearState;t.c=i.reducer;var s=function(e){var t;return null===(t=e.editedEntry)||void 0===t?void 0:t.items},b=function(e,t){var n;return null===(n=e.editedEntry)||void 0===n?void 0:n.items.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}},32:function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"l",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return p}));var a=n(22),i=n(67),l=Object(i.b)({name:"librariesDataSlice",initialState:[],reducers:{updateAllLibrariesDataFromStorage:function(e,t){var n;null===(n=t.payload)||void 0===n||n.forEach((function(t){e.push(t)}))},updateAllLibrariesData:function(e,t){var n;null===(n=t.payload)||void 0===n||n.forEach((function(t){var n=[];t.rows.forEach((function(e){var t=JSON.parse(e.rowJSON);n.push(Object(a.a)({rowUUID:e.rowUUID,fe_title:e.fe_title,fe_description:e.fe_description},t))}));var i={name:t.name,libUUID:t.libUUID,rows:n};e.push(i)}))},addNewLibraryData:function(e,t){var n=t.payload,a=n.libUUID,i={name:n.name,libUUID:a,rows:[]};e.push(i)},updateLibraryRecord:function(e,t){var n=t.payload,a=n.libUUID,i=n.rowUUID,l=n.editedFields,r=e.findIndex((function(e){return e.libUUID===a})),o=e[r].rows.findIndex((function(e){return e.rowUUID===i}));l.forEach((function(t){var n,a,i,l=t.columnTemplate.sqlFieldName;l&&("libEntry"===t.columnTemplate.type?(e[r].rows[o][l].value=null===(n=t.field)||void 0===n||null===(a=n.value)||void 0===a?void 0:a.value,e[r].rows[o][l].entrylinks=null===(i=t.field)||void 0===i?void 0:i.entryLinks):e[r].rows[o][l]=t.field.value)}))},addNewLibraryRecord:function(e,t){var n=t.payload,a=n.libUUID,i=n.rowUUID,l=n.editedFields,r=n.name,o=e.findIndex((function(e){return e.libUUID===a}));o<0&&(e.push({name:r,libUUID:a,rows:[]}),o=e.findIndex((function(e){return e.libUUID===a})));var c={},d=[],u=[];l.forEach((function(e){var t,n,a,i=e.columnTemplate.sqlFieldName;i&&(c[i]={},"libEntry"===e.columnTemplate.type?(c[i].value=null===(t=e.field)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.value,c[i].entrylinks=null===(a=e.field)||void 0===a?void 0:a.entryLinks,"title"===e.columnTemplate.usage&&e.field.entryLinks.forEach((function(e){return d.push(e.rowTitle)})),"description"===e.columnTemplate.usage&&e.field.entryLinks.forEach((function(e){return u.push(e.rowTitle)}))):(c[i]=e.field.value,"title"===e.columnTemplate.usage&&d.push(e.field.value),"description"===e.columnTemplate.usage&&u.push(e.field.value)))})),c.rowUUID=i,c.fe_title=d.join(" "),c.fe_description=u.join(" "),e[o].rows.push(c)},deleteLibraryData:function(e,t){var n=t.payload.libUUID,a=e.findIndex((function(e){return e.libUUID===n}));a>-1&&e.splice(a,1)},deleteRowData:function(e,t){var n=t.payload,a=n.libUUID,i=n.rowUUID,l=e.findIndex((function(e){return e.libUUID===a}));if(l>-1){var r=e[l].rows.findIndex((function(e){return e.rowUUID===i}));r>-1&&e[l].rows.splice(r,1)}}}}),r=l.actions,o=r.updateAllLibrariesData,c=r.addNewLibraryData,d=r.updateLibraryRecord,u=r.addNewLibraryRecord,s=r.updateAllLibrariesDataFromStorage,b=r.deleteLibraryData,j=r.deleteRowData;t.c=l.reducer;var m=function(e){return null===e||void 0===e?void 0:e.librariesData},f=function(e,t){var n;return null===(n=e.librariesData)||void 0===n?void 0:n.find((function(e){return e.libUUID===t}))},v=function(e,t){var n,a,i=t.rowUUID,l=t.libUUID;return i&&l?null===(n=e.librariesData)||void 0===n||null===(a=n.find((function(e){return e.libUUID===l})))||void 0===a?void 0:a.rows.find((function(e){return e.rowUUID===i})):null},p=function(e,t){var n=t.libUUID,a=t.listRowsUUID,i=e.librariesData.find((function(e){return e.libUUID===n}));return null===i||void 0===i?void 0:i.rows.filter((function(e){return a.includes(e.rowUUID)}))}},34:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return s}));var a=n(67),i=Object(a.b)({name:"librariesTemplate",initialState:[],reducers:{updateAllLibraries:function(e,t){var n;null===(n=t.payload)||void 0===n||n.map((function(t){return e.push(t)}))},addNewLibraryTemplate:function(e,t){var n=t.payload.libUUID,a=e.findIndex((function(e){return e.libUUID===n}));a>=0?e[a]=t.payload:e.push(t.payload)},deleteLibraryTemplate:function(e,t){var n=t.payload.libUUID,a=e.findIndex((function(e){return e.libUUID===n}));e.splice(a,1)}}}),l=i.actions,r=l.updateAllLibraries,o=l.addNewLibraryTemplate,c=l.deleteLibraryTemplate;t.b=i.reducer;var d=function(e){return e.librariesTemplate},u=function(e,t){var n;return null===(n=e.librariesTemplate)||void 0===n?void 0:n.find((function(e){return e.libUUID===t}))},s=function(e){return e.librariesTemplate.map((function(e){return{libUUID:e.libUUID,name:e.name,sqlTableName:e.sqlTableName}}))}},69:function(e,t,n){e.exports={main:"TemplateLibraryCreator_main__3Zjq5",goBack:"TemplateLibraryCreator_goBack__13EA7",header:"TemplateLibraryCreator_header__3uiit",mainOptions:"TemplateLibraryCreator_mainOptions__1Ihk_",tab:"TemplateLibraryCreator_tab__rTDK9",tabButton:"TemplateLibraryCreator_tabButton__3_S2w",active:"TemplateLibraryCreator_active__3oLlr"}},89:function(e,t,n){e.exports={modal:"TemplateFieldCreator_modal__2LBeV",header:"TemplateFieldCreator_header__2c5ZU",form:"TemplateFieldCreator_form__WrC7n",backdrop:"TemplateFieldCreator_backdrop__UE-c2",container:"TemplateFieldCreator_container__1oYxx",type:"TemplateFieldCreator_type__2hAG4"}},96:function(e,t,n){e.exports={modal:"SelectField_modal__1uSDM",backdrop:"SelectField_backdrop__1-YyJ",header:"SelectField_header__h5m7Z",ul:"SelectField_ul__2VuWy",list:"SelectField_list__GapW0"}}},[[231,1,2]]]);
//# sourceMappingURL=main.575c100c.chunk.js.map